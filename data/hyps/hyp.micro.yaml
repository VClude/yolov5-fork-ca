# hyp-micro.yaml — tuned for tiny, dense objects & uneven illumination
lr0: 0.01            # initial LR
lrf: 0.1
momentum: 0.937
weight_decay: 0.0005
warmup_epochs: 3.0
warmup_momentum: 0.8
warmup_bias_lr: 0.1

box: 0.05            # increase to emphasize precise boxes if needed (0.05–0.08)
cls: 0.3             # lower if single-class (0.2–0.4)
cls_pw: 1.0
obj: 1.2             # ↑ obj for small/dense; try 1.0–1.5
obj_pw: 1.0
iou_t: 0.25          # lower IOU target helps small objects
anchor_t: 3.5
fl_gamma: 1.5 # focal loss gamma (efficientDet default gamma=1.5)
# Augmentations — microscopy friendly
hsv_h: 0.005         # minimal hue shift
hsv_s: 0.2
hsv_v: 0.3           # brightness variance for illumination change
degrees: 5.0
translate: 0.05
scale: 0.5           # allow zoom in/out to teach multi-scale
shear: 0.0
perspective: 0.0
flipud: 0.0
fliplr: 0.3
mosaic: 0.7          # keep mosaic but not too aggressive
mixup: 0.0           # usually off for micro
copy_paste: 0.0

# Extra regularization
label_smoothing: 0.0
